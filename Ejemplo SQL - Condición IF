-- Ejemplo IF

-- NOTA: Por si salta algún error, este procedimiento requiere que la tabla cursos exista previamente en la base de datos con los 3 parámetros de entrada.
     -- Elimina el procedimiento si ya existia previamente
DROP PROCEDURE insert_curso;                             

delimiter //                                               -- Cambia temporalmente el delimitador de ';' a '//'
CREATE PROCEDURE insert_curso(p_codigo int, p_nombre varchar(50), p_precio decimal)  -- Crea el procedimiento con 3 parámetros de entrada
begin
    if p_precio < 100 then                                -- Si el precio es menor a 100...
        select 'Precio no puede ser inferior a 100';       -- Muestra mensaje de error
    elseif p_precio > 300 then                            -- Si el precio es mayor a 300...
        select 'Precio no puede ser superior a 300';       -- Muestra mensaje de error
    else                                                   -- Si el precio está dentro del rango permitido...
        insert into cursos values(p_codigo, p_nombre, p_precio);  -- Inserta el curso en la tabla 'cursos'
    end if;
end //
delimiter ;                                                -- Restaura el delimitador estándar ';'

call insert_curso(134,'Curso130',151);                     -- Llama al procedimiento pasando código, nombre y precio válidos
select * FROM CURSOS;                                      -- Muestra todos los registros de la tabla 'cursos'

